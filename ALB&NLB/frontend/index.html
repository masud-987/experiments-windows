<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Frontend - ALB&NLB Demo</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; margin: 2rem; }
      .card { max-width: 720px; padding: 1.25rem; border: 1px solid #e5e7eb; border-radius: 0.5rem; }
      .row { display: flex; gap: 0.5rem; margin-top: 1rem; }
      input { flex: 1; padding: 0.5rem 0.75rem; border: 1px solid #cbd5e1; border-radius: 0.375rem; }
      button { padding: 0.5rem 0.875rem; border: 0; background: #1d4ed8; color: white; border-radius: 0.375rem; cursor: pointer; }
      button:disabled { background: #94a3b8; cursor: not-allowed; }
      pre { background: #0b1020; color: #e2e8f0; padding: 0.75rem; border-radius: 0.375rem; overflow: auto; }
    </style>
  </head>
  <body>
    <div class="card">
      <h1>ALB & NLB Demo Frontend</h1>
      <p>Try the API:</p>
      <div class="row">
        <input id="name" placeholder="Your name" value="World" />
        <button id="btn">Greet</button>
      </div>
      <h3>Response</h3>
      <pre id="out">Click Greet to call the backend...</pre>
    </div>
    <script>
      const $ = (sel) => document.querySelector(sel);
      const apiBase = (location.hostname === 'localhost' || location.hostname === '127.0.0.1')
        ? 'http://localhost:8000'
        : window.location.origin;

      async function callApi() {
        const name = $('#name').value || 'World';
        $('#btn').disabled = true;
        $('#out').textContent = 'Loading...';
        try {
          const res = await fetch(`${apiBase}/api/greet/${encodeURIComponent(name)}`);
          const json = await res.json();
          $('#out').textContent = JSON.stringify(json, null, 2);
        } catch (err) {
          $('#out').textContent = String(err);
        } finally {
          $('#btn').disabled = false;
        }
      }

      $('#btn').addEventListener('click', callApi);
    </script>
  </body>
  </html>


